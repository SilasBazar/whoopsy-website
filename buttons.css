/* ============================================
   3D BUTTON COMPONENT WITH SPARK EFFECT
   ============================================ */

/* CSS Variables for easy customization */
:root {
    --btn-green: #86ce43;
    --btn-white: #e5e6cc;
    --btn-black: #1d1c00;
    --btn-bevel-depth: 10px;
    --btn-bevel-color: var(--btn-green);
    --btn-radius: 16px;
    --btn-transition-normal: 0.2s ease-out;
    --btn-transition-fast: 0.02s ease-out;
}

/* 3D Button Base Class */
.btn-3d {
    /* Top face styling */
    background-color: var(--btn-white);
    color: var(--btn-black);
    font-family: 'Space Mono', monospace;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    padding: 20px 50px;
    font-size: 1.2rem;
    
    /* Shaping and removing outline */
    border: none;
    border-radius: var(--btn-radius);
    outline: none;
    cursor: pointer;
    position: relative;
    display: inline-block;
    text-decoration: none;
    
    /* Default state: flat against the page */
    transform: translate(0px, 0px);
    box-shadow: 
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color);
    
    /* Snappy transition for popping OUT */
    transition: transform var(--btn-transition-normal), box-shadow var(--btn-transition-normal);
    user-select: none;
    -webkit-tap-highlight-color: transparent;
}

/* Hover state: Button pops out towards the user */
.btn-3d:hover {
    transform: translate(-10px, -10px);
    box-shadow: 
        1px 1px 0px 0px var(--btn-bevel-color),
        2px 2px 0px 0px var(--btn-bevel-color),
        3px 3px 0px 0px var(--btn-bevel-color),
        4px 4px 0px 0px var(--btn-bevel-color),
        5px 5px 0px 0px var(--btn-bevel-color),
        6px 6px 0px 0px var(--btn-bevel-color),
        7px 7px 0px 0px var(--btn-bevel-color),
        8px 8px 0px 0px var(--btn-bevel-color),
        9px 9px 0px 0px var(--btn-bevel-color),
        10px 10px 0px 0px var(--btn-bevel-color);
}

/* Active/Click state: Snaps back down flush to the page */
.btn-3d:active {
    transform: translate(0px, 0px);
    box-shadow: 
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color),
        0px 0px 0px 0px var(--btn-bevel-color);
    transition: transform var(--btn-transition-fast), box-shadow var(--btn-transition-fast);
}

/* Wrapper for button + spark effect */
.btn-wrapper {
    position: relative;
    display: inline-flex;
}

/* Spark Effect Elements */
.spark {
    position: absolute;
    bottom: calc(100% - var(--btn-radius));
    right: 13px;
    background-color: var(--btn-white);
    width: 6px;
    border-radius: 6px;
    opacity: 0;
    pointer-events: none;
    transform-origin: bottom center;
    z-index: 10;
}

/* Different lengths to match the reference image burst */
.spark-1 { height: 12px; }
.spark-2 { height: 18px; }
.spark-3 { height: 10px; }

/* Spark Animations */
.btn-wrapper.popping .spark-1 {
    animation: shoot-1 0.4s ease-out forwards;
}

.btn-wrapper.popping .spark-2 {
    animation: shoot-2 0.4s ease-out forwards;
}

.btn-wrapper.popping .spark-3 {
    animation: shoot-3 0.4s ease-out forwards;
}

/* Angles and trajectories perfectly radiating from the corner's arc */
@keyframes shoot-1 {
    0% { opacity: 1; transform: rotate(15deg) translateY(-16px) scale(0); }
    20% { opacity: 1; transform: rotate(15deg) translateY(-19px) scale(1); }
    80% { opacity: 1; transform: rotate(15deg) translateY(-27px) scale(1); }
    100% { opacity: 0; transform: rotate(15deg) translateY(-31px) scale(0); }
}

@keyframes shoot-2 {
    0% { opacity: 1; transform: rotate(45deg) translateY(-16px) scale(0); }
    20% { opacity: 1; transform: rotate(45deg) translateY(-19px) scale(1); }
    80% { opacity: 1; transform: rotate(45deg) translateY(-32px) scale(1); }
    100% { opacity: 0; transform: rotate(45deg) translateY(-36px) scale(0); }
}

@keyframes shoot-3 {
    0% { opacity: 1; transform: rotate(75deg) translateY(-16px) scale(0); }
    20% { opacity: 1; transform: rotate(75deg) translateY(-19px) scale(1); }
    80% { opacity: 1; transform: rotate(75deg) translateY(-25px) scale(1); }
    100% { opacity: 0; transform: rotate(75deg) translateY(-29px) scale(0); }
}